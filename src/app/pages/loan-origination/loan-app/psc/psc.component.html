<main class="main">
  <div class="container-fluid">
    <app-breadcrumb></app-breadcrumb>

    <form (ngSubmit)="onPscFormSubmit()" [formGroup]="pscForm">
      <div class="content">

        <div class="row">
          <div class="col-sm-3">
            <h6 class="mt-3">{{model.clientSeq}} - {{model.firstName}} {{model.lastName}}</h6>
          </div>

          <div class="col-sm-3 mt-3" *ngIf="model.previousPscScore>0">
            <label>
              <b>Previous Poverty Score: {{model.previousPscScore}}</b>
            </label>
          </div>

          <div class="col-sm-3 mt-3">
            <label>
              <b>Aggregated Poverty Score: {{score}}</b>
            </label>
          </div>

          

        </div>
        <div class="row">
        <div class="col-sm-5">
        <div formArrayName="questionArray" *ngFor="let order of pscForm['controls'].questionArray['controls']; let i = index">
          <!--<div class="cRow" *ngFor="let question of model.questions;trackBy: customTrackBy; let i = index; ">-->

              <mat-label>{{model.questions[i].questionString}}
                <span class="colorRed">*</span>
              </mat-label>
              <mat-form-field>
                <mat-select [disabled]="readonly" (selectionChange)="onAnswerSelect(i)" placeholder="Select One: " [formControlName]="i">

                  <mat-option *ngFor="let answer of model.questions[i].answers;"
                  [value]="answer.answerKey">
                  {{answer.answerString}}
                  </mat-option>

                </mat-select>
              </mat-form-field>
              <!--<select class="form-control" [formControlName]="i" name="answerSeq">-->
                <!--<option *ngFor="let answer of model.questions[i].answers" [value]="answer.answerKey">{{answer.answerKey}}{{answer.answerString}}</option>-->
              <!--</select>-->
            </div>
          <!--</div>-->

        </div>
        </div>
            <!--<mat-form-field>-->
              <!--<mat-select (selectionChange)="onAnswerSelect(question)" placeholder="Select One:"-->
                          <!--[(ngModel)]="question.answerSeq" name="answerSeq"-->
                          <!--required>-->
                <!--<mat-option *ngFor="let answer of question.answers;"-->
                            <!--[value]="answer.answerKey">-->
                  <!--{{answer.answerString}}-->
                <!--</mat-option>-->
              <!--</mat-select>-->
            <!--</mat-form-field>-->


            <!--<mat-form-field>-->
            <!--<mat-select placeholder="Select One:">-->
            <!--<mat-option *ngFor="let answer of question.answers;" [value]="answer.answerKey">-->
            <!--{{answer.answerString}}-->
            <!--</mat-option>-->
            <!--</mat-select>-->
            <!--</mat-form-field>-->

            <!--<ng-select-->
            <!--[items]="question.answers"-->
            <!--bindLabel="answerString"-->
            <!--bindValue="answerKey"-->
            <!--placeholder="Select one: ">-->
            <!--</ng-select>-->
            <!-- <ng-select [items]="question.answers" required bindLabel="answerString" bindValue="answerKey" placeholder="Select One" (change)="onAnswerSelect(question)"
              name="answerString" [(ngModel)]="question.answerSeq">
            </ng-select> -->

        <!-- <div class="cRow">
        <div class="cCol3">
          <label>Education level of Head of Family</label>
          <select class="form-control">
            <option value="">Never attended school</option>
          </select>
        </div>
      </div>
      <div class="cRow">
        <div class="cCol3">
          <label>Children schooling status of Age (5-16) Years <span class="colorRed">*</span></label>
          <select class="form-control">
            <option value="">There are no children between 5 and 16 years old in the household</option>
          </select>
        </div>
      </div>
      <div class="cRow">
        <div class="cCol3">
          <label>No. of Residential Room <span class="colorRed">*</span></label>
          <select class="form-control">
            <option value="">0</option>
            <option value="">1</option>
            <option value="">2</option>
          </select>
        </div>
      </div>
      <div class="cRow">
        <div class="cCol3">
          <label>Type of toilet in Use <span class="colorRed">*</span></label>
          <select class="form-control">
            <option value="">Flush connected to a public sewerage,  to a pit or to an open drain</option>
          </select>
        </div>
      </div>
      <div class="cRow">
        <div class="cCol3">
          <label>Does the household own at least one refrigerator, freezer or washing machine  <span class="colorRed">*</span></label>
          <select class="form-control">
            <option value="">Yes</option>
          </select>
        </div>
      </div>
      <div class="cRow">
        <div class="cCol3">
          <label>Does the household own at least one Air Conditioner/Geyser/Heater?  <span class="colorRed">*</span></label>
          <select class="form-control">
            <option value="">Yes</option>
          </select>
        </div>
      </div>

      <div class="cRow">
        <div class="cCol3">
          <label>Does the household own at least one cooking stove or microwave? <span class="colorRed">*</span></label>
          <select class="form-control">
            <option value="">Yes</option>
          </select>
        </div>
      </div>

      <div class="cRow">
        <div class="cCol3">
          <label>Does the household own an engine driven Vehicle  <span class="colorRed">*</span></label>
          <select class="form-control">
            <option value="">Yes</option>
          </select>
        </div>
      </div> -->



        <div class="mt-5 mb-5">
          <button type="button" class="btn btn-primary" (click)="continueClicked()">Continue</button>
          <button class="btn btn-default" [disabled]="readonly" type="submit" >Save</button>
        </div>
      </div>

    </form>
  </div>
</main>
