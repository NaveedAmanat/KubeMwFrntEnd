<main class="main">
  <div class="container-fluid">
    <app-breadcrumb></app-breadcrumb>
    <div class="content">
      <form (ngSubmit)="onBranchInfoFormSubmit(branchInfoForm.value)" #branchInfoForm="ngForm">
        <h6 class="mt-3">Branch Details</h6>
        <div class="cRow">
          <div class="cCol1">
            <mat-form-field>
              <input type="text" placeholder="Branch Name" id="brnchNm" name="brnchNm" matInput
                [disabled]="readonly || !hasPermission" [(ngModel)]="brmodel.brnchNm" required
                (keypress)="keyPressText($event)" maxlength="20">
            </mat-form-field>
          </div>
          <div class="cCol1">
            <mat-form-field>
              <mat-select placeholder="Select Area" [(ngModel)]="brmodel.areaSeq" [errorStateMatcher]="matcher"
                pattern="^[1-9]\d*$" [disabled]="false || readonly" name="areaSeq" required>
                <mat-option *ngFor="let area of areas" [value]="area.areaSeq">
                  {{area.areaNm}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="cCol1">
            <mat-form-field>
              <mat-select placeholder="City" [(ngModel)]="brmodel.citySeq" [errorStateMatcher]="matcher"
                pattern="^[1-9]\d*$" [disabled]="disableCity || readonly" name="citySeq" required>
                <mat-option *ngFor="let city of cities" [value]="city.citySeq">
                  {{city.cityNm}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

        </div>
        <div class="cRow">
          <div class="cCol2">
            <mat-form-field>
              <input type="text" placeholder="Description" id="brnchDscr" name="brnchDscr" matInput
                [disabled]="readonly || !hasPermission" [(ngModel)]="brmodel.brnchDscr" (keypress)="keyPress($event)"
                maxlength="50">
            </mat-form-field>

          </div>
          <div class="cCol1">
            <mat-form-field>
              <input type="text" placeholder="Email" id="email" name="email" matInput
                [disabled]="readonly || !hasPermission" [(ngModel)]="brmodel.email" (keypress)="emailValidate($event)"
                maxlength="25">
            </mat-form-field>

          </div>
          <div class="cCol1">
            <mat-form-field>
              <input type="text" placeholder="Phone Number" id="brnchPhNum" name="brnchPhNum" matInput
                [disabled]="readonly || !hasPermission" [(ngModel)]="brmodel.brnchPhNum"
                (keypress)="phNumValidate($event)" maxlength="12" required>
            </mat-form-field>

          </div>
        </div>
        <div class="cRow">
          <div class="cCol1">
            <mat-form-field>
              <mat-select placeholder="Branch Type" [(ngModel)]="brmodel.brnchTypKey" [errorStateMatcher]="matcher"
                pattern="^[1-9]\d*$" [disabled]="false || readonly" name="brnchTypKey" required>
                <mat-option *ngFor="let brtype of brtype" [value]="brtype.codeKey">
                  {{brtype.codeValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="cCol1">
            <mat-form-field>
              <mat-select placeholder="Branch Status" [(ngModel)]="brmodel.brnchStsKey" [errorStateMatcher]="matcher"
                pattern="^[1-9]\d*$" [disabled]="false || readonly" name="brnchStsKey" required>
                <mat-option *ngFor="let brstatus of brstatus" [value]="brstatus.codeKey">
                  {{brstatus.codeValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="cCol1">
            <mat-form-field>
              <mat-select placeholder="MFCIB Company" [(ngModel)]="brmodel.mfcibCmpnySeq" [errorStateMatcher]="matcher"
                pattern="^[1-9]\d*$" [disabled]="false || readonly" name="mfcibCmpnySeq">
                <mat-option *ngFor="let mfcibcomp of mfcibcomp" [value]="mfcibcomp.codeKey">
                  {{mfcibcomp.codeValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="cCol1">
            <mat-form-field>
              <input type="text" placeholder="HR LOC Code" id="hrLocCd" name="hrLocCd" matInput
                [disabled]="readonly || !hasPermission" [(ngModel)]="brmodel.hrLocCd" (keypress)="keyPress($event)"
                maxlength="20" (keypress)="hrLocValidate($event)">
            </mat-form-field>

          </div>
        </div>
        <div class="cRow">
          <div class="cCol1">
            <mat-form-field>
              <input matInput required [(ngModel)]="brmodel.mobStrtDt" placeholder="Mobilization Start Date:"
                [matDatepicker]="picker" [disabled]="true" readonly name="mobStrtDt" id="mobStrtDt"
                (dateChange)="onStartDateChange($event)" />
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker required #picker [disabled]="false || readonly"></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="cCol1">
            <mat-form-field>
              <input matInput required [(ngModel)]="brmodel.mobEndDt" [min]="mobStrtDt"
                placeholder="Mobilization End Date:" [matDatepicker]="picker2" [disabled]="true" readonly
                name="mobEndDt" id="mobEndDt" (dateChange)="onEndDateChange($event)" />
              <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker required #picker2 [disabled]="false || readonly"></mat-datepicker>
            </mat-form-field>
          </div>
        </div>

        <button (click)="continueClicked()" [disabled]="!formSaved" type="button"
          class="btn btn-primary">Continue</button>
        <button class="btn btn-default" [disabled]="!hasPermission" type="submit">Save</button>
      </form>
    </div>
  </div>
</main>